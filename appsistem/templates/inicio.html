{% extends 'index.html' %}
{% block title %}Inicio | SRP{% endblock %}
{% block breadcrumb %}<span class="text-ucs-red font-medium">Inicio</span>{% endblock %}

{% block content %}
{% if has_projects %}
<!-- Welcome Section with Project -->
<div class="mb-8">
    <div class="bg-gradient-to-r from-ucs-red to-red-700 rounded-2xl p-6 sm:p-8 text-white relative overflow-hidden">
        <div class="relative z-10">
            <h2 class="text-2xl sm:text-3xl font-bold mb-2">¡Bienvenido de vuelta, {{ user.first_name|default:user.username }}!</h2>
            <p class="text-red-100 mb-6">Tu proyecto está registrado y listo para gestionar</p>
            <div class="flex flex-wrap gap-4">
                <a href="{% url 'proyecto_detalle' latest.id %}" class="bg-white text-ucs-red px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center">
                    <i class="fas fa-eye mr-2"></i>Ver Momentos
                </a>
                <a href="{% url 'editarproyectos' latest.id %}" class="bg-red-800 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-900 transition-colors flex items-center">
                    <i class="fas fa-edit mr-2"></i>Editar Datos
                </a>
            </div>
        </div>
        <!-- Decorative elements -->
        <div class="absolute top-0 right-0 -mt-4 -mr-4 w-16 sm:w-24 h-16 sm:h-24 bg-white bg-opacity-10 rounded-full"></div>
        <div class="absolute bottom-0 right-4 sm:right-8 -mb-4 sm:-mb-8 w-20 sm:w-32 h-20 sm:h-32 bg-white bg-opacity-5 rounded-full"></div>
    </div>
</div>

<!-- Main Content Grid -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8">
    <!-- Left Column - Project Details -->
    <div class="lg:col-span-2 order-2 lg:order-1">
        <div class="bg-white rounded-xl shadow-sm border border-gray-200">
            <div class="px-4 sm:px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                    <i class="fas fa-project-diagram mr-2 text-ucs-red"></i>Datos del Proyecto
                </h3>
            </div>
            
            <div class="p-4 sm:p-6">
                <!-- Project Info Grid -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-heading mr-1 text-ucs-red"></i>Título
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.titulo }}</dd>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-users mr-1 text-ucs-red"></i>Autores
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.autores }}</dd>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-id-card mr-1 text-ucs-red"></i>Cédula
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.cedula }}</dd>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-chalkboard-teacher mr-1 text-ucs-red"></i>Tutor
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.tutor }}</dd>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-graduation-cap mr-1 text-ucs-red"></i>PNF
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.pnf.nombre_pnf }}</dd>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-route mr-1 text-ucs-red"></i>Trayecto
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.trayecto.nombre_trayecto }}</dd>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-layer-group mr-1 text-ucs-red"></i>Sección
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.seccion }}</dd>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <dt class="text-sm font-medium text-gray-500 mb-1">
                            <i class="fas fa-calendar mr-1 text-ucs-red"></i>Fecha
                        </dt>
                        <dd class="text-sm font-semibold text-gray-900">{{ latest.fecha_subido }}</dd>
                    </div>
                </div>

                <!-- Description -->
                <div class="bg-blue-50 rounded-lg p-4 border-l-4 border-blue-400">
                    <h4 class="text-sm font-medium text-gray-900 mb-2 flex items-center">
                        <i class="fas fa-align-left mr-2 text-blue-600"></i>Descripción
                    </h4>
                    <p class="text-sm text-gray-700 whitespace-pre-line">{{ latest.descripcion }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Column intentionally left without Quick Actions -->
    <div class="order-1 lg:order-2"></div>
</div>

{% else %}
<!-- No Projects State -->
<div class="mb-8">
    <div class="bg-gradient-to-r from-ucs-red to-red-700 rounded-2xl p-6 sm:p-8 text-white relative overflow-hidden">
        <div class="relative z-10">
            <h2 class="text-2xl sm:text-3xl font-bold mb-2">¡Bienvenido, {{ user.first_name|default:user.username }}!</h2>
            <p class="text-red-100 mb-6">Comienza tu experiencia académica registrando tu primer proyecto</p>
            <div class="flex flex-wrap gap-4">
                <a href="{% url 'subir' %}" class="bg-white text-ucs-red px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center">
                    <i class="fas fa-plus mr-2"></i>Registrar Proyecto
                </a>
                <a href="{% url 'misproyectos' %}" class="bg-red-800 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-900 transition-colors flex items-center">
                    <i class="fas fa-folder-open mr-2"></i>Mis Proyectos
                </a>
            </div>
        </div>
        <!-- Decorative elements -->
        <div class="absolute top-0 right-0 -mt-4 -mr-4 w-16 sm:w-24 h-16 sm:h-24 bg-white bg-opacity-10 rounded-full"></div>
        <div class="absolute bottom-0 right-4 sm:right-8 -mb-4 sm:-mb-8 w-20 sm:w-32 h-20 sm:h-32 bg-white bg-opacity-5 rounded-full"></div>
    </div>
</div>

<!-- Main Content Grid -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 items-center">
    <!-- Left Column - Information -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sm:p-8">
        <div class="text-center lg:text-left">
            <div class="mb-6">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4">
                    <i class="fas fa-rocket text-ucs-red text-2xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-900 mb-3">Aún no tienes proyectos</h3>
                <p class="text-gray-600 mb-6">Registra tu proyecto para poder subir versiones por momento y recibir feedback de tus tutores.</p>
            </div>
            
            <div class="space-y-4">
                <div class="flex items-start space-x-3 text-left">
                    <div class="flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5">
                        <i class="fas fa-check text-green-600 text-xs"></i>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900">Gestión por momentos</h4>
                        <p class="text-sm text-gray-600">Organiza tu proyecto en momentos específicos</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3 text-left">
                    <div class="flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5">
                        <i class="fas fa-check text-green-600 text-xs"></i>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900">Feedback en tiempo real</h4>
                        <p class="text-sm text-gray-600">Recibe comentarios de tus tutores</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3 text-left">
                    <div class="flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5">
                        <i class="fas fa-check text-green-600 text-xs"></i>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900">Seguimiento completo</h4>
                        <p class="text-sm text-gray-600">Historial de versiones y cambios</p>
                    </div>
                </div>
            </div>

            <div class="mt-8 flex flex-col sm:flex-row gap-3 justify-center lg:justify-start">
                <a href="{% url 'subir' %}" class="inline-flex items-center justify-center px-6 py-3 rounded-lg bg-ucs-red text-white font-medium hover:bg-red-700 transition-colors">
                    <i class="fas fa-plus mr-2"></i>Registrar Proyecto
                </a>
                <a href="{% url 'misproyectos' %}" class="inline-flex items-center justify-center px-6 py-3 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 transition-colors">
                    <i class="fas fa-folder-open mr-2"></i>Mis Proyectos
                </a>
            </div>
        </div>
    </div>

    <!-- Right Column - Image -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
        <img src="/media/img/universidad.jpg" class="w-full h-64 lg:h-80 object-cover" alt="Universidad UCS" />
        <div class="p-4 bg-gradient-to-r from-ucs-red to-red-700 text-white">
            <h4 class="font-semibold mb-1">Universidad de las Ciencias de la Salud</h4>
            <p class="text-sm text-red-100">Excelencia académica e investigación</p>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}
